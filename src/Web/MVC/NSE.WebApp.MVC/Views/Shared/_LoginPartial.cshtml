﻿@using Microsoft.AspNetCore.Identity
@using NSE.WebApp.MVC.Extensions
@using NSE.WebAPI.Core.User
@inject IAspNetUser AppUser

@if (AppUser.IsUserAuthenticated())
{
    <div>
        <vc:shopping-cart/>
    </div>
    <div class="dropdown d-inline-block">
        <a href="#" class="icontext dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
            <img class="icon icon-sm rounded-circle" src="https://s.gravatar.com/avatar/@this.HashEmailForGravatar(AppUser.GetUserEmail())?d=mm&s=45">
            </a> <!-- iconbox // -->
            <a class="dropdown-item" href="#">Meu Perfil</a>
            <a class="dropdown-item" href="#">Meus Pedidos</a>
            <a class="dropdown-item" asp-controller="Auth" asp-action="Logout">Sair</a>
    </div>
}
else
{
    <div class="widget-header">
        <small class="title text-muted">Bem vindo!</small>
        <div>
            <a asp-controller="Auth" asp-action="Register">Crie sua conta</a> <span> | </span>
            <a asp-controller="Auth" asp-action="Login"> Login</a>
        </div>
    </div>
}